{% extends 'base.html' %}

{% block head %}
<title>ì•± ì´ìš© ì•ˆë‚´</title>
<style>
  @font-face {
    font-family: 'komika_axisregular';
    src: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/212141/komikax_-webfont.woff2') format('woff2'), url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/212141/komikax_-webfont.woff') format('woff');
    font-weight: normal;
    font-style: normal;
  }

  @font-face {
    font-family: 'SUITE-Regular';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2304-2@1.0/SUITE-Regular.woff2') format('woff2');
    font-weight: 400;
    font-style: normal;
  }

  main {
    margin-left: 50px;
    margin-right: 50px;
  }

  ul {
    list-style-type: none;
    padding-left: 20px;
  }

  /* ìƒˆë¡œìš´ ìŠ¤íƒ€ì¼ */
  :root {
    --primary-color: #265c4a;
    /* ì§™ì€ ë…¹ìƒ‰ */
    --secondary-color: #489ca0;
    /* ë¬¼ì˜ í‘¸ë¥¸ìƒ‰ */
    --accent-color: #f0e9e9;
    /* í¬ë¦¼ìƒ‰ */
    --text-color: #ffffff;
    /* í°ìƒ‰ í…ìŠ¤íŠ¸ */
    --button-color: #52C9FF;
    /* ë²„íŠ¼ ìƒ‰ìƒ */
    --button-hover-bg: #416f8c;
    /* í˜¸ë²„ ì‹œ ë²„íŠ¼ ë°°ê²½ìƒ‰ */
    --button-hover-text: #cccccc;
    /* í˜¸ë²„ ì‹œ ë²„íŠ¼ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
  }

  body {
    color: var(--text-color);
    background-color: var(--primary-color);
  }

  .new,
  button,
  .btns,
  a.cta {
    background-color: var(--button-color);
    color: var(--text-color);
    padding: 10px 20px;
    text-decoration: none;
    border-radius: 5px !important;
    border: none;
    cursor: pointer;
    display: inline-block;
    font-family: 'SUITE-Regular', sans-serif !important;
  }

  button:hover,
  .btns:hover,
  a.cta:hover {
    background-color: var(--button-hover-bg);
    /* ë²„íŠ¼ í˜¸ë²„ ë°°ê²½ìƒ‰ */
    color: var(--button-hover-text);
    /* ë²„íŠ¼ í˜¸ë²„ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
  }

  .card {
    font-family: 'komika_axisregular', sans-serif;
    background-color: var(--accent-color);
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    height: 600px !important;
    /* ëª¨ë“  ì¹´ë“œì˜ ë†’ì´ë¥¼ ê³ ì •í•©ë‹ˆë‹¤ */
    display: flex;
    /* Flexbox ì‚¬ìš© */
    flex-direction: column;
    /* ì„¸ë¡œ ë°©í–¥ ì •ë ¬ */
    /*justify-content: center;*/
    /* ë‚´ìš©ì„ ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
  }


  .card__price,
  .card__bullets,
  .card__cta {
    font-family: 'SUITE-Regular', sans-serif !important;
    /* í°íŠ¸ ì ìš© */
  }

  .card__heading {
    font-family: 'komika_axisregular', sans-serif;
    /* í°íŠ¸ ì ìš© */
  }

  header.masthead {
    background-image: url('./static/img/yoga.jpg');
    background-size: cover;
    background-position: center;
  }
  .col:first-child .card__bullets {
  margin-top: 100px; /* ì—¬ê¸°! step1 ê°€ìš´ë° ê¸€ ê°€ìš´ë°ë¡œì›í•˜ëŠ” ì—¬ë°± ê°’ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš” */
}
.btn-open{
    margin-top:70px; /*ì—¬ê¸°! ë²„íŠ¼ ì•„ë˜ìœ„ì¹˜ 170*/
  }

  .card-body {
    display: flex;
    /* Flex ì»¨í…Œì´ë„ˆ ì„¤ì • */
    flex-direction: column;
    /* ìì‹ ìš”ì†Œë“¤ì„ ì„¸ë¡œë¡œ ë°°ì¹˜ */
    /*justify-content: center;ì—¬ê¸°!*/
    /* ìˆ˜ì§ ë°©í–¥ìœ¼ë¡œ ê°€ìš´ë° ì •ë ¬ */
    align-items: center;
    /* ìˆ˜í‰ ë°©í–¥ìœ¼ë¡œ ê°€ìš´ë° ì •ë ¬ */
    text-align: center;
    /* í…ìŠ¤íŠ¸ ê°€ìš´ë° ì •ë ¬ */
    height: 100%;
    /* ë¶€ëª¨ ìš”ì†Œ(.card)ì˜ ì „ì²´ ë†’ì´ë¥¼ ì°¨ì§€í•˜ë„ë¡ ì„¤ì • */
  }

  .btns,
  .card__cta {
    display: block;
    /* ë¸”ë¡ ìš”ì†Œë¡œ ë§Œë“¤ì–´ ìë™ ë§ˆì§„ ì ìš© ê°€ëŠ¥ */
    margin: 0 auto;
    /* ìœ„ ì•„ë˜ ë§ˆì§„ 0, ì¢Œìš° ë§ˆì§„ ìë™ìœ¼ë¡œ ê°€ìš´ë° ì •ë ¬ */
    width: fit-content;
    /* ë²„íŠ¼ì˜ ë„ˆë¹„ë¥¼ ë‚´ìš©ì— ë§ì¶¤ */
  }

  .btns {
    padding: 0.75rem 1.5rem;
    cursor: pointer;
    border-radius: 0.25rem;
    border: solid 1px transparent;
    font-weight: bold;
  }


  .btn-close {
    background: #0d0d0d;
    color: #fff;
    width: 100px;
    height: 30px;
  }

  dialog {
    border: none;
    border-radius: 0.25rem;
    box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
    width: 660px;
    height: 700px;
    text-align: center;
    margin: auto;
    place-items: center;
    background-color: #ffffff;
  }

  .icon {
    font-size: 4rem;
  }

  .text-content {
    margin-top: 1rem;
    margin-bottom: 1rem;
  }

  #playButton2, #playButton3 {
      margin-top: 75px; /* Adjust the space above the button */
      margin-bottom: 10px; /* Adjust the space below the button */
    }

    #playButton1 {
      margin-top: 50px; /* No margin at the top for the first button */
    }
</style>
<link href="./static/css/styles3.css" rel="stylesheet" />
{% endblock %}


{% block content %}
<!-- Page Header-->
<header class="masthead" style="background-image: url('./static/img/yoga.jpg'); background-size: cover;">
</header>


<main>
  <div class="row row-cols-1 row-cols-md-3 g-4">
    <div class="col">
      <div class="card">
        <div class="card-body">
          <h2 class="card__heading">Step 01</h2>
          <p class="card__price"><strong>ì¹´ë©”ë¼ ì ‘ê·¼ì„ í—ˆìš©í•´ì£¼ì„¸ìš”!</strong></p>
          <ul role="list" class="card__bullets flow">
            <li>ì¹´ë©”ë¼ ì ‘ê·¼ ê¶Œí•œì„ í—ˆìš©í•˜ì—¬<Br>
              ì‹¤ì‹œê°„ ìì„¸ êµì •ì˜ íš¨ê³¼ë¥¼ ì¦ê¸°ì„¸ìš”</li>
            <li>í™”ë©´ ì•ˆì— ì „ì‹ ì´ ë‚˜ì˜¤ë„ë¡<br>
              ì¹´ë©”ë¼ì˜ ê°ë„ì™€ ìœ„ì¹˜ë¥¼ ì¡°ì •í•´ì£¼ì„¸ìš”</li>
          </ul>
          <button class="btn-open" class="btns" id="new">ì¹´ë©”ë¼ ì¼œê¸°</button>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card">
        <div class="card-body">
          <h2 class="card__heading">Step 02</h2>
          <p class="card__price"><strong>ë…¸ë˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</strong></p>

      
          <button id="playButton1">Bird</button>
          <button id="playButton2">Piano</button>
          <button id="playButton3">River</button>

          <audio id="audioPlayer1" src="{{ url_for('static', filename='mp3/bird.mp3') }}"></audio>
          <audio id="audioPlayer2" src="{{ url_for('static', filename='mp3/piano.mp3') }}"></audio>
          <audio id="audioPlayer3" src="{{ url_for('static', filename='mp3/river.mp3') }}"></audio>


          <!-- <ul role="list" class="card__bullets flow">
            <li>í™”ë©´ì— ë‚˜íƒ€ë‚˜ëŠ” ì´ë¯¸ì§€ì™€
              <br>ë™ì¼í•œ ìì„¸ë¥¼ ì·¨í•˜ì„¸ìš”
            </li>
            <li>ì •í™•í•œ ìì„¸ë¥¼ ì·¨í•˜ë©´ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ <br>ì‹¤ì‹œê°„ìœ¼ë¡œ ì´ë¥¼ ë¶„ì„í•˜ê³  í”¼ë“œë°±ì„ ì œê³µí•˜ì—¬ <br>ì˜¬ë°”ë¥¸ ìì„¸ í•™ìŠµì„ ë„ì™€ ì¤„ ê±°ì—ìš”</li>
            <li>ì´ë¯¸ì§€ì™€ ì¼ì¹˜í•˜ëŠ” í¬ì¦ˆë¥¼ ìœ ì§€í•˜ë©´ <br>êµì •ì˜ íš¨ê³¼ë¥¼ ë†’ì¼ ìˆ˜ ìˆì–´ìš”</li>
          </ul> -->
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card">
        <div class="card-body">
          <h2 class="card__heading">Step 03</h2>
          <p class="card__price"><strong>10ì´ˆê°„ ë²„í‹°ì„¸ìš”!</strong></p>
          <ul role="list" class="card__bullets flow">
            <li>ì •í™•í•œ ìì„¸ë¥¼ ì·¨í•œ í›„, í™”ë©´ì— ë‚˜íƒ€ë‚˜ëŠ” <br>ì•ˆë‚´ì— ë”°ë¼ ìµœì†Œ 10ì´ˆê°„<br> ìì„¸ë¥¼ ìœ ì§€í•˜ì„¸ìš”</li>
            <li>ì´ ë‹¨ê³„ëŠ” ê·¼ìœ¡ ê°•í™” ë° ì˜¬ë°”ë¥¸ ìì„¸<br> ìœ ì§€ í›ˆë ¨ì„ ìœ„í•œ ì¤‘ìš”í•œ ë¶€ë¶„ì´ì—ìš”</li>
            <li>ë²„í‹°ëŠ” ë™ì•ˆ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ <br>ì‹œê°„ ê²½ê³¼ì— ë”°ë¥¸ ìì„¸ì˜ ë³€í™”ë¥¼<br> ëª¨ë‹ˆí„°ë§í•˜ê³  ì¡°ì–¸ì„ ì œê³µí•˜ì—¬ <br>ì‚¬ìš©ìì˜ êµì • í–¥ìƒì„ ë„ì™€ ì¤„ ê±°ì—ìš”</li>
            <li>ì•„ë˜ì˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì‹œì‘í•´ë³´ì„¸ìš”</li>
          </ul>
          <a href="detect" class="card__cta cta">ì‹œì‘í•˜ê¸°</a>
        </div>
      </div>
    </div>
</main>
<section>
  <dialog>
    <span class="icon">ğŸ“·</span>
    <div class="text-content">
      <video id="cameraStream" autoplay></video>
    </div>
    <button class="btn-close" class="btns" autofocus>Close Modal</button>
  </dialog>
</section>
<script>
  function startCamera() {
    navigator.mediaDevices.getUserMedia({
      video: { width: 640, height: 480 } // ì¹´ë©”ë¼ í•´ìƒë„ ì„¤ì •
    })
      .then(stream => {
        let video = document.getElementById('cameraStream');
        video.srcObject = stream;
      })
      .catch(err => {
        console.error("ì¹´ë©”ë¼ ì ‘ê·¼ ì—ëŸ¬: ", err);
      });
  }

  // ì¹´ë©”ë¼ ìŠ¤íŠ¸ë¦¼ì„ ì¢…ë£Œí•˜ëŠ” í•¨ìˆ˜
  function stopCamera() {
    let video = document.getElementById('cameraStream');
    if (video.srcObject) {
      video.srcObject.getTracks().forEach(track => track.stop());
    }
  }

  // ëª¨ë‹¬ì°½ ì—´ê¸° ë° ì¹´ë©”ë¼ ì‹œì‘
  const modal = document.querySelector('dialog');
  const btnOpenModal = document.querySelector('.btn-open');
  btnOpenModal.addEventListener('click', () => {
    modal.showModal();
    startCamera(); // ì¹´ë©”ë¼ ì‹œì‘
  });

  // ëª¨ë‹¬ì°½ ë‹«ê¸° ë° ì¹´ë©”ë¼ ì •ì§€
  const btnCloseModal = document.querySelector('.btn-close');
  btnCloseModal.addEventListener('click', () => {
    modal.close();
    stopCamera(); // ì¹´ë©”ë¼ ì •ì§€
  });

  var playButton1 = document.getElementById('playButton1');
  var audioPlayer1 = document.getElementById('audioPlayer1');

  var playButton2 = document.getElementById('playButton2');
  var audioPlayer2 = document.getElementById('audioPlayer2');

  var playButton3 = document.getElementById('playButton3');
  var audioPlayer3 = document.getElementById('audioPlayer3');

  playButton1.addEventListener('click', function () {
    if (audioPlayer1.paused) {
      audioPlayer1.play();
      playButton1.innerHTML = 'ì¼ì‹œ ì •ì§€';
    } else {
      audioPlayer1.pause();
      playButton1.innerHTML = 'Bird';
    }
  });

  playButton2.addEventListener('click', function () {
    if (audioPlayer2.paused) {
      audioPlayer2.play();
      playButton2.innerHTML = 'ì¼ì‹œ ì •ì§€';
    } else {
      audioPlayer2.pause();
      playButton2.innerHTML = 'Piano';
    }
  });

  playButton3.addEventListener('click', function () {
    if (audioPlayer3.paused) {
      audioPlayer3.play();
      playButton3.innerHTML = 'ì¼ì‹œ ì •ì§€';
    } else {
      audioPlayer3.pause();
      playButton3.innerHTML = 'River';
    }
  });


</script>
{% endblock %}


{% block footer %}
<script src="./static/js/prepare1.js"></script>

{% endblock %}