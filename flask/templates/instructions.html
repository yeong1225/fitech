{% extends 'base.html' %}

{% block head %}
<title>ì•± ì´ìš© ì•ˆë‚´</title>
<style>
  @font-face {
    font-family: 'komika_axisregular';
    src: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/212141/komikax_-webfont.woff2') format('woff2'), url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/212141/komikax_-webfont.woff') format('woff');
    font-weight: normal;
    font-style: normal;
  }

  @font-face {
    font-family: 'SUITE-Regular';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2304-2@1.0/SUITE-Regular.woff2') format('woff2');
    font-weight: 400;
    font-style: normal;
  }

  main {
    margin-left: 50px;
    margin-right: 50px;
  }

  ul {
    list-style-type: none;
    padding-left: 20px;
  }

  /* ìƒˆë¡œìš´ ìŠ¤íƒ€ì¼ */
  :root {
    --primary-color: #265c4a;
    /* ì§™ì€ ë…¹ìƒ‰ */
    --secondary-color: #489ca0;
    /* ë¬¼ì˜ í‘¸ë¥¸ìƒ‰ */
    --accent-color: #f0e9e9;
    /* í¬ë¦¼ìƒ‰ */
    --text-color: #ffffff;
    /* í°ìƒ‰ í…ìŠ¤íŠ¸ */
    --button-color: #52C9FF;
    /* ë²„íŠ¼ ìƒ‰ìƒ */
    --button-hover-bg: #416f8c;
    /* í˜¸ë²„ ì‹œ ë²„íŠ¼ ë°°ê²½ìƒ‰ */
    --button-hover-text: #cccccc;
    /* í˜¸ë²„ ì‹œ ë²„íŠ¼ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
  }

  body {
    color: var(--text-color);
    background-color: var(--primary-color);
  }

  .new,
  button,
  .btns,
  a.cta {
    background-color: var(--button-color);
    color: var(--text-color);
    padding: 10px 20px;
    text-decoration: none;
    border-radius: 5px !important;
    border: none;
    cursor: pointer;
    display: inline-block;
    font-family: 'SUITE-Regular', sans-serif !important;
  }

  button:hover,
  .btns:hover,
  a.cta:hover {
    background-color: var(--button-hover-bg);
    /* ë²„íŠ¼ í˜¸ë²„ ë°°ê²½ìƒ‰ */
    color: var(--button-hover-text);
    /* ë²„íŠ¼ í˜¸ë²„ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
  }

  .card {
    font-family: 'komika_axisregular', sans-serif;
    background-color: var(--accent-color);
    border-radius: 8px;
    padding: 20px;
    /* margin-right:10px; */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    height: 600px !important;
    /* ëª¨ë“  ì¹´ë“œì˜ ë†’ì´ë¥¼ ê³ ì •í•©ë‹ˆë‹¤ */
    display: flex;
    /* Flexbox ì‚¬ìš© */
    flex-direction: column;
    /* ì„¸ë¡œ ë°©í–¥ ì •ë ¬ */
    /*justify-content: center;*/
    /* ë‚´ìš©ì„ ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
  }



  .card__price,
  .card__bullets,
  .card__cta {
    font-family: 'SUITE-Regular', sans-serif !important;

    /* í°íŠ¸ ì ìš© */
  }

  ul.card__bullets.flow {
    margin-right: 25px;
  }

  .card__heading {
    font-family: 'komika_axisregular', sans-serif;
    /* í°íŠ¸ ì ìš© */
  }

  header.masthead {
    background-image: url('./static/img/yoga.jpg');
    background-size: cover;
    background-position: center;
  }

  .btn-open {
    margin-top: 70px;
    /*ì—¬ê¸°! ë²„íŠ¼ ì•„ë˜ìœ„ì¹˜ 170*/
  }

  .card-body {
    display: flex;
    /* Flex ì»¨í…Œì´ë„ˆ ì„¤ì • */
    flex-direction: column;
    /* ìì‹ ìš”ì†Œë“¤ì„ ì„¸ë¡œë¡œ ë°°ì¹˜ */
    /*justify-content: center;ì—¬ê¸°!*/
    /* ìˆ˜ì§ ë°©í–¥ìœ¼ë¡œ ê°€ìš´ë° ì •ë ¬ */
    align-items: center;
    /* ìˆ˜í‰ ë°©í–¥ìœ¼ë¡œ ê°€ìš´ë° ì •ë ¬ */
    text-align: center;
    /* í…ìŠ¤íŠ¸ ê°€ìš´ë° ì •ë ¬ */
    height: 100%;
    /* ë¶€ëª¨ ìš”ì†Œ(.card)ì˜ ì „ì²´ ë†’ì´ë¥¼ ì°¨ì§€í•˜ë„ë¡ ì„¤ì • */
  }

  .btns,
  .card__cta {
    display: block;
    /* ë¸”ë¡ ìš”ì†Œë¡œ ë§Œë“¤ì–´ ìë™ ë§ˆì§„ ì ìš© ê°€ëŠ¥ */
    margin: 0 auto;
    /* ìœ„ ì•„ë˜ ë§ˆì§„ 0, ì¢Œìš° ë§ˆì§„ ìë™ìœ¼ë¡œ ê°€ìš´ë° ì •ë ¬ */
    width: fit-content;
    /* ë²„íŠ¼ì˜ ë„ˆë¹„ë¥¼ ë‚´ìš©ì— ë§ì¶¤ */
  }

  .btns {
    padding: 0.75rem 1.5rem;
    cursor: pointer;
    border-radius: 0.25rem;
    border: solid 1px transparent;
    font-weight: bold;
  }


  .btn-close {
    background: #0d0d0d;
    color: #fff;
    width: 100px;
    height: 30px;
    position: absolute;
    /* Position the button absolutely within the dialog */
    top: 10px;
    /* Adjust as necessary for your layout */
    right: 10px;
  }

  dialog {
    border: none;
    position: relative;
    border-radius: 0.25rem;
    box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
    width: 660px;
    /* Adjust the width as needed */
    height: 700px;
    /* Adjust the height as needed */
    text-align: center;
    margin: auto;
    place-items: center;
    background-color: #ffffff;
    overflow: hidden;
    /* Hide any content that exceeds the modal dimensions */
    padding: 0;
    /* Remove padding if unnecessary */
  }

  .icon {
    font-size: 4rem;
  }

  .text-content {
    margin-top: 1rem;
    margin-bottom: 1rem;
    overflow: hidden;
  }

  #playButton2,
  #playButton3 {
    margin-top: 75px;
    /* Adjust the space above the button */
    margin-bottom: 10px;
    /* Adjust the space below the button */
  }

  #playButton1 {
    margin-top: 50px;
    /* No margin at the top for the first button */
  }

  video#cameraStream {
    max-width: 100%;
    /* Ensures video does not exceed the dialog width */
    height: auto;
    /* Maintains aspect ratio */
  }

  .button-container {
    display: flex;
    justify-content: space-between;
    /* ë²„íŠ¼ì„ ì¼ë ¬ë¡œ ì •ë ¬í•˜ê³  ê°„ê²©ì„ ë™ì¼í•˜ê²Œ ë¶„ë°°í•©ë‹ˆë‹¤ */
    align-items: baseline;
    /* ëª¨ë“  ë²„íŠ¼ì„ ìˆ˜ì§ìœ¼ë¡œ ê¸°ì¤€ì„  ì •ë ¬ë¡œ ì„¤ì •í•©ë‹ˆë‹¤ */
  }


  #playButton1 {

    margin-right: 10px;
    /* #playButton1 ì˜¤ë¥¸ìª½ì— 10px ë§ˆì§„ì„ ì¶”ê°€í•˜ì—¬ ê°„ê²©ì„ ë„ì›ë‹ˆë‹¤ */
  }

  #playButton2 {

    margin-right: 10px;
    /* #playButton1 ì˜¤ë¥¸ìª½ì— 10px ë§ˆì§„ì„ ì¶”ê°€í•˜ì—¬ ê°„ê²©ì„ ë„ì›ë‹ˆë‹¤ */
  }

  .button-container button {
    width: 100px;
    height: 50px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    text-align: center;
  }

  .card .card-body {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    height: 100%;
  }






  .btn-open,
  .cta,
  .button-container button {
    width: fit-content;
    padding: 10px 20px;
    margin-top: 10px;
    font-weight: bold;
    border-radius: 5px !important;
    border: none;
    cursor: pointer;
    font-family: 'SUITE-Regular', sans-serif !important;
  }

  .btn-open:hover,
  .cta:hover,
  .button-container button:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-text);
  }

  /* CSS for step1 */

  .button-container {
    display: flex;
    justify-content: space-around;
    /* ê° ë²„íŠ¼ì„ ë™ì¼í•œ ê°„ê²©ìœ¼ë¡œ ë°°ì¹˜ */
    margin-top: 20px;
    transform: translateY(-19px);
    /* ë²„íŠ¼ê³¼ ìƒë‹¨ ê°„ê²© ì¡°ì ˆ */
  }


  .button-container2 {
    display: flex;
    /* ê° ë²„íŠ¼ì„ ë™ì¼í•œ ê°„ê²©ìœ¼ë¡œ ë°°ì¹˜ */
    margin-top: 115px;
    /* ë²„íŠ¼ê³¼ ìƒë‹¨ ê°„ê²© ì¡°ì ˆ */
  }

  .button-container3 {
    display: flex;
    /* ê° ë²„íŠ¼ì„ ë™ì¼í•œ ê°„ê²©ìœ¼ë¡œ ë°°ì¹˜ */
    margin-top: 10px;
    /* ë²„íŠ¼ê³¼ ìƒë‹¨ ê°„ê²© ì¡°ì ˆ */
  }

  .btn-open {
    transform: translateY(-41px);
    /* ë²„íŠ¼ì„ ìœ„ë¡œ ì´ë™ì‹œí‚µë‹ˆë‹¤. */
  }

  .custom-h01{
    transform: translateY(31px);
  }

  .custom-h02{
    transform: translateY(29px);
  }

  .custom-h03{
    transform: translateY(5px);
  }

  .custom-p01{
    transform: translateY(35px);
  }

  .custom-p02{
    transform: translateY(23px);
  }

  .custom-p03{
    transform: translateY(-2px);
  }

  .custom-ul01 {
    /* ì›í•˜ëŠ” ìŠ¤íƒ€ì¼ì„ ì¶”ê°€í•˜ì„¸ìš” */
    transform: translateY(30px);
  }
  .custom-ul02 {
    /* ì›í•˜ëŠ” ìŠ¤íƒ€ì¼ì„ ì¶”ê°€í•˜ì„¸ìš” */
    transform: translateY(14px);
  }
  .custom-ul03 {
    /* ì›í•˜ëŠ” ìŠ¤íƒ€ì¼ì„ ì¶”ê°€í•˜ì„¸ìš” */
    transform: translateY(-8px);
  }





  /* ë‹¤ìŒ ë‚´ìš©ê¹Œì§€ëŠ” ì—¬ì „íˆ ìœ„ì— ìœ„ì¹˜í•˜ë„ë¡ ì„¤ì • */
</style>
<link href="./static/css/styles3.css" rel="stylesheet" />
{% endblock %}


{% block content %}
<!-- Page Header-->
<header class="masthead" style="background-image: url('./static/img/yoga.jpg'); background-size: cover;">
</header>


<main>
  <div class="row row-cols-1 row-cols-md-3 g-4">
    <div class="col">
      <div class="card">

        <div class="card-body">
          <div class="step1">
            <h2 class="card__heading custom-h01">Step 01</h2>
            <p class="card__price custom-p01"><strong>ì¹´ë©”ë¼ ì ‘ê·¼ì„ í—ˆìš©í•´ì£¼ì„¸ìš”!</strong></p>
            <ul role="list" class="card__bullets flow custom-ul01">
              <li>ì¹´ë©”ë¼ ì ‘ê·¼ ê¶Œí•œì„ í—ˆìš©í•˜ê³ 
              </li>
              <li>í™”ë©´ ì•ˆì— ì „ì‹ ì´ ë‚˜ì˜¤ë„ë¡<br>
                <br>
                ì¹´ë©”ë¼ì˜ ê°ë„ì™€ ìœ„ì¹˜ë¥¼ <br>ì¡°ì •í•´ì£¼ì„¸ìš”
              </li>
            </ul>
          </div>
          <div class="button-container2">
            <button class="btn-open" class="btns" id="new">ì¹´ë©”ë¼ ì¼œê¸°</button>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card">
        <div class="card-body">
          <h2 class="card__heading custom-h02">Step 02</h2>
          <p class="card__price custom-p02"><strong>ë…¸ë˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</strong></p>

          <ul role="list" class="card__bullets flow custom-ul02">
            <li>3 ê°€ì§€ í…Œë§ˆì˜ ìŒì•…ì´ <br> ì¤€ë¹„ë˜ì–´ìˆìœ¼ë‹ˆ,
            </li>
            <br>
            <li>ë§ˆìŒì— ë“œëŠ” ìŒì•…ì„ <br> ì„ íƒí•´ì£¼ì„¸ìš”</li>
          </ul>
          <div class="button-container">
            <button id="playButton1">ğŸ¦</button>
            <button id="playButton2">ğŸ¹</button>
            <button id="playButton3">ğŸŒŠ</button>
          </div>

          <audio id="audioPlayer1" src="{{ url_for('static', filename='mp3/bird.mp3') }}"></audio>
          <audio id="audioPlayer2" src="{{ url_for('static', filename='mp3/piano.mp3') }}"></audio>
          <audio id="audioPlayer3" src="{{ url_for('static', filename='mp3/river.mp3') }}"></audio>


          <!-- <ul role="list" class="card__bullets flow">
            <li>í™”ë©´ì— ë‚˜íƒ€ë‚˜ëŠ” ì´ë¯¸ì§€ì™€
              <br>ë™ì¼í•œ ìì„¸ë¥¼ ì·¨í•˜ì„¸ìš”
            </li>
            <li>ì •í™•í•œ ìì„¸ë¥¼ ì·¨í•˜ë©´ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ <br>ì‹¤ì‹œê°„ìœ¼ë¡œ ì´ë¥¼ ë¶„ì„í•˜ê³  í”¼ë“œë°±ì„ ì œê³µí•˜ì—¬ <br>ì˜¬ë°”ë¥¸ ìì„¸ í•™ìŠµì„ ë„ì™€ ì¤„ ê±°ì—ìš”</li>
            <li>ì´ë¯¸ì§€ì™€ ì¼ì¹˜í•˜ëŠ” í¬ì¦ˆë¥¼ ìœ ì§€í•˜ë©´ <br>êµì •ì˜ íš¨ê³¼ë¥¼ ë†’ì¼ ìˆ˜ ìˆì–´ìš”</li>
          </ul> -->
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card">
        <div class="card-body">
          <div class="step3">
            <h2 class="card__heading custom-h03">Step 03</h2>
          </div>
          <p class="card__price custom-p03"><strong>ìš´ë™ì„ ì‹œì‘í•´ì£¼ì„¸ìš”</strong></p>
          <ul role="list" class="card__bullets flow custom-ul03" >
            <!-- <li>ì§€ì‹œì— ë”°ë¼ ì •í™•í•œ ìì„¸ë¥¼ ì·¨í•œ í›„, í™”ë©´ì— ë‚˜íƒ€ë‚˜ëŠ” <br>ì•ˆë‚´ì— ë”°ë¼ ìµœì†Œ 30ì´ˆê°„ ìì„¸ë¥¼ ìœ ì§€í•˜ì„¸ìš”</li>
            <br> -->
            <li>í™”ë©´ì— ë‚˜íƒ€ë‚˜ëŠ” ì§€ì‹œì— ë”°ë¼ <br>30ì´ˆê°„ ìì„¸ë¥¼ ìœ ì§€í•˜ì„¸ìš”</li>
            <br>
            <li>ì˜ëª»ëœ ìì„¸ë¡œ ìˆ˜í–‰í•  ê²½ìš° <br>í”¼ë“œë°±ì´ ì œê³µë©ë‹ˆë‹¤</li>
            <br>
            <!-- <li>ì•„ë˜ì˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬<br> ì‹œì‘í•´ë³´ì„¸ìš”</li> -->
          </ul>
          <div class="button-container3">
          <a href="detect" class="card__cta cta">ì‹œì‘í•˜ê¸°</a>
        </div>
        </div>
      </div>
    </div>
</main>
<section>
  <dialog>
    <span class="icon">ğŸ“·</span>
    <div class="text-content">
      <video id="cameraStream" autoplay></video>
    </div>
    <button class="btn-close" class="btns" autofocus></button>
  </dialog>
</section>
<script>
  function startCamera() {
    navigator.mediaDevices.getUserMedia({
      video: { width: 640, height: 480 } // ì¹´ë©”ë¼ í•´ìƒë„ ì„¤ì •
    })
      .then(stream => {
        let video = document.getElementById('cameraStream');
        video.srcObject = stream;
      })
      .catch(err => {
        console.error("ì¹´ë©”ë¼ ì ‘ê·¼ ì—ëŸ¬: ", err);
      });
  }

  // ì¹´ë©”ë¼ ìŠ¤íŠ¸ë¦¼ì„ ì¢…ë£Œí•˜ëŠ” í•¨ìˆ˜
  function stopCamera() {
    let video = document.getElementById('cameraStream');
    if (video.srcObject) {
      video.srcObject.getTracks().forEach(track => track.stop());
    }
  }

  // ëª¨ë‹¬ì°½ ì—´ê¸° ë° ì¹´ë©”ë¼ ì‹œì‘
  const modal = document.querySelector('dialog');
  const btnOpenModal = document.querySelector('.btn-open');
  btnOpenModal.addEventListener('click', () => {
    modal.showModal();
    startCamera(); // ì¹´ë©”ë¼ ì‹œì‘
  });

  // ëª¨ë‹¬ì°½ ë‹«ê¸° ë° ì¹´ë©”ë¼ ì •ì§€
  const btnCloseModal = document.querySelector('.btn-close');
  btnCloseModal.addEventListener('click', () => {
    modal.close();
    stopCamera(); // ì¹´ë©”ë¼ ì •ì§€
  });

  var playButton1 = document.getElementById('playButton1');
  var audioPlayer1 = document.getElementById('audioPlayer1');

  var playButton2 = document.getElementById('playButton2');
  var audioPlayer2 = document.getElementById('audioPlayer2');

  var playButton3 = document.getElementById('playButton3');
  var audioPlayer3 = document.getElementById('audioPlayer3');

  playButton1.addEventListener('click', function () {
    if (audioPlayer1.paused) {
      audioPlayer1.play();
      playButton1.innerHTML = 'Stop';
    } else {
      audioPlayer1.pause();
      playButton1.innerHTML = 'ğŸ¦';
    }
  });

  playButton2.addEventListener('click', function () {
    if (audioPlayer2.paused) {
      audioPlayer2.play();
      playButton2.innerHTML = 'Stop';
    } else {
      audioPlayer2.pause();
      playButton2.innerHTML = 'ğŸ¹';
    }
  });

  playButton3.addEventListener('click', function () {
    if (audioPlayer3.paused) {
      audioPlayer3.play();
      playButton3.innerHTML = 'Stop';
    } else {
      audioPlayer3.pause();
      playButton3.innerHTML = 'ğŸŒŠ';
    }
  });


</script>
{% endblock %}


{% block footer %}
<script src="./static/js/prepare1.js"></script>

{% endblock %}